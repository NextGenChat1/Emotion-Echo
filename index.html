<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Emotion Echo - Multi Questions</title>
<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: #f0f4f8;
    margin: 0; padding: 20px;
    display: flex; flex-direction: column; align-items: center;
  }
  h1 { color: #0984e3; }
  #container {
    background: white; border-radius: 10px; padding: 20px; margin: 15px 0;
    max-width: 420px; width: 100%;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }
  #questionText {
    font-size: 1.2em;
    margin-bottom: 15px;
    min-height: 60px;
  }
  .answer-btn {
    margin: 6px 8px 6px 0;
    padding: 10px 20px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    background: #0984e3;
    color: white;
    cursor: pointer;
    transition: background 0.3s;
  }
  .answer-btn.selected {
    background: #00b894;
  }
  .answer-btn:hover:not(.selected) {
    background: #74b9ff;
  }
  #navButtons {
    margin-top: 20px;
    display: flex; justify-content: space-between;
  }
  #navButtons button {
    padding: 10px 18px;
    font-size: 16px;
    border: none;
    border-radius: 8px;
    background: #0984e3;
    color: white;
    cursor: pointer;
    transition: background 0.3s;
    width: 100px;
  }
  #navButtons button:disabled {
    background: #ccc;
    cursor: not-allowed;
  }
  #result, #story, #quote {
    margin-top: 20px;
    font-size: 1em;
    color: #2d3436;
  }
  .emoji {
    font-size: 50px;
    position: fixed;
    top: 40%;
    left: 50%;
    transform: translate(-50%, -50%);
    pointer-events: none;
    user-select: none;
    animation: popin 1s ease forwards;
    z-index: 9999;
  }
  @keyframes popin {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    50% { opacity: 1; transform: translate(-50%, -50%) scale(1.3); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
  }
</style>
</head>
<body>

<h1>Emotion Echo üîÆ</h1>

<div id="container">
  <div id="questionText">Loading question...</div>
  <div id="answers">
    <!-- answer buttons will be here -->
  </div>

  <div id="navButtons">
    <button id="backBtn" disabled>‚¨ÖÔ∏è Back</button>
    <button id="nextBtn" disabled>Next ‚û°Ô∏è</button>
  </div>

  <div id="result" style="display:none; white-space: pre-line;"></div>
  <div id="story" style="display:none; font-style: italic; color: #2d3436;"></div>
  <div id="quote" style="display:none; font-weight: 600; color: #0984e3; margin-top: 10px;"></div>
</div>

<script>
  const questions = [
    "How are you feeling right now?",
    "What‚Äôs your biggest emotion today?",
    "Describe your mood in one word.",
    "What made you smile recently?",
    "What emotion is strongest in you today?",
    "How would you rate your energy right now?"
  ];

  const answersOptions = [
    { label: "Happy", emoji: "üòä" },
    { label: "Sad", emoji: "üò¢" },
    { label: "Calm", emoji: "üòå" },
    { label: "Excited", emoji: "ü§©" },
    { label: "Tired", emoji: "üò¥" }
  ];

  const stories = [
    "Every emotion you feel is a brushstroke painting your unique life story.",
    "In the darkest times, your heart's echo shines the brightest.",
    "Your feelings are the compass guiding you to your true self.",
    "Even small steps in self-reflection lead to great journeys.",
    "Behind every tear is a story waiting to bloom into strength."
  ];

  const dailyQuotes = [
    "Every day is a new beginning. Take a deep breath and start again.",
    "Your emotions are your superpower ‚Äî embrace them.",
    "Happiness often sneaks in through a door you didn‚Äôt know you left open.",
    "Calmness is the cradle of power.",
    "Sadness is but a wall between two gardens."
  ];

  const questionText = document.getElementById("questionText");
  const answersDiv = document.getElementById("answers");
  const backBtn = document.getElementById("backBtn");
  const nextBtn = document.getElementById("nextBtn");
  const resultDiv = document.getElementById("result");
  const storyDiv = document.getElementById("story");
  const quoteDiv = document.getElementById("quote");

  let currentIndex = 0;
  const userAnswers = [];

  function showEmoji(emoji) {
    const e = document.createElement("div");
    e.className = "emoji";
    e.textContent = emoji;
    document.body.appendChild(e);
    setTimeout(() => e.remove(), 1200);
  }

  function loadQuestion(index) {
    questionText.textContent = questions[index];
    answersDiv.innerHTML = "";
    nextBtn.disabled = true;

    answersOptions.forEach(opt => {
      const btn = document.createElement("button");
      btn.className = "answer-btn";
      btn.textContent = `${opt.emoji} ${opt.label}`;
      btn.dataset.answer = opt.label;
      if(userAnswers[index] === opt.label) {
        btn.classList.add("selected");
        nextBtn.disabled = false;
      }
      btn.onclick = () => {
        userAnswers[index] = opt.label;
        Array.from(answersDiv.children).forEach(b => b.classList.remove("selected"));
        btn.classList.add("selected");
        nextBtn.disabled = false;
        showEmoji(opt.emoji);
      };
      answersDiv.appendChild(btn);
    });

    backBtn.disabled = index === 0;
  }

  backBtn.onclick = () => {
    if(currentIndex > 0) {
      currentIndex--;
      loadQuestion(currentIndex);
    }
  };

  nextBtn.onclick = () => {
    if(!userAnswers[currentIndex]) return; // ensure answer selected

    if(currentIndex < questions.length - 1) {
      currentIndex++;
      loadQuestion(currentIndex);
    } else {
      showResults();
    }
  };

  function showResults() {
    document.getElementById("container").style.maxWidth = "600px";
    questionText.style.display = "none";
    answersDiv.style.display = "none";
    backBtn.style.display = "none";
    nextBtn.style.display = "none";

    let summary = "Your Emotion Echo Summary:\n\n";
    questions.forEach((q, i) => {
      summary += `${q}\n‚Üí ${userAnswers[i] || "No answer"}\n\n`;
    });
    resultDiv.textContent = summary;
    resultDiv.style.display = "block";

    const story = stories[Math.floor(Math.random() * stories.length)];
    storyDiv.textContent = story;
    storyDiv.style.display = "block";

    const quote = dailyQuotes[Math.floor(Math.random() * dailyQuotes.length)];
    quoteDiv.textContent = quote;
    quoteDiv.style.display = "block";
  }

  loadQuestion(currentIndex);
</script>

</body>
</html>
